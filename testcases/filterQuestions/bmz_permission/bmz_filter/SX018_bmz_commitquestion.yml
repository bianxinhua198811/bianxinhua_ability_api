config:
    name: SX018：部门长提交筛选，查看当前月份历史筛选结果

teststeps:
-   name: 提问审核问题1
    testcase: testcases/aduitquestion_testcases.yml

-   name: 提问审核问题2
    testcase: testcases/aduitquestion_testcases.yml


-   name: 部门长C登陆
    testcase: testcases/login_testcases.yml
    variables:
        phone: ${ENV(bmzphone2)}
        sign: ${make_sign($currtime, $uuid, $access_token)}
        uuid: ${make_uuid()}
        currtime: ${make_time()}
        access_token: ''

-   name: 部门长C进入【标记】模块
    api: api/filterquestion_api/unmarkedQuestions_api.yml
    extract:
        - qid1: content.data.lists.0.id
        - qid2: content.data.lists.1.id


-   name: 部门长C标记问题1为1级
    api: api/filterquestion_api/markquestion_api.yml
    variables:
        access_token: ${get_accesstoken()}
        sign: ${make_sign($currtime, $uuid, $access_token)}
        uuid: ${make_uuid()}
        currtime: ${make_time()}
        qid: $qid1

-   name: 部门长C标记问题2为1级
    api: api/filterquestion_api/markquestion_api.yml
    variables:
         qid: $qid2

-   name: 提交筛选结果
    api: api/filterquestion_api/submitFilterQuestions_api.yml
    variables:
      - qids: $qid1

-   name: 进入历史筛选模块，筛选当前月份我选中的
    api: api/filterquestion_api/historyQuestionPools_api.yml
    variables:
         action: 3
    validate:
        - eq:
            - content.data.lists.0.question.id
            - $qid1

-   name: 进入历史筛选模块，筛选当前月份我未选中的
    api: api/filterquestion_api/historyQuestionPools_api.yml
    variables:
         action: 1
    validate:
        - eq:
            - content.data.lists.0.question.id
            - $qid2
